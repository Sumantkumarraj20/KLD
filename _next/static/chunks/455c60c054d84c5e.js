(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,30338,e=>{"use strict";var t=e.i(91398),s=e.i(91788),a=e.i(58678),i=e.i(41158),n=e.i(3998),l=e.i(97289);let r=["cat","bat","hat","mat","rat","sat","fat","pat","tan","can","fan","man","pan","van","ran"],o=["bed","red","fed","led","pet","wet","net","set","get","bet","let","ten","hen","pen","den"],d=["big","dig","fig","pig","rig","bit","fit","hit","kit","sit","wit","bin","fin","pin","tin"],c=["box","cot","dot","got","hot","lot","pot","rot","cod","god","nod","pod","sod","bog","cog","dog","fog","hog","jog","log"],u=["the","a","and","to","of","in","is","was","it","he","she","for","you","are","that","be","with","have","this","will","not","do","can","all","on","we","as","by","from","they","go","no","me","my","them","who","which","what","when","where","why","how","so","up","out","if","about","one","two","three","or"],m=["Once upon a time, there lived a little red fox. The fox was very clever. One day, the fox found a beautiful apple tree. The tree had many red apples. The fox was happy to find such good fruit.","A young girl named Emma had a special dream. She wanted to become a teacher. Emma studied very hard every day. She read many books. She practiced writing and math. One day, Emma's teacher told her: 'You are a great student. I believe you will be an excellent teacher one day.' Emma felt so proud."];class h{static generateWritingQuestions(e,t,s="en"){let a=[];if(e<=5){let i=this.getLettersForLevel(e,s);for(let n=0;n<Math.min(5,i.length);n++){let l=i[n];a.push({question_id:`writing-${s}-${e}-${n}`,type:"writing",skill:t,difficulty:e>3?"medium":"easy",prompt:`${"draw"===t?"Draw":"Type"} the letter: "${l}"`,correct_answer:l,time_limit_seconds:"draw"===t?45:15})}}else if(e<=15)for(let i of this.getWordsForLevel(e,s).slice(0,5))a.push({question_id:`writing-${e}-${i}`,type:"writing",skill:t,difficulty:"medium",prompt:`${"draw"===t?"Draw and label":"Type"} the word: "${i}"`,correct_answer:i,time_limit_seconds:"draw"===t?60:25});else if(e<=30){let s=u[(e-16)*5];a.push({question_id:`writing-${e}-sight`,type:"writing",skill:t,difficulty:"medium",prompt:`${"draw"===t?"Write":"Type"} the word: "${s}"`,correct_answer:s,time_limit_seconds:"draw"===t?60:20});let i=`The ${s} is here.`;a.push({question_id:`writing-${e}-sentence`,type:"writing",skill:t,difficulty:"hard",prompt:`${"draw"===t?"Write":"Type"} this sentence: "${i}"`,correct_answer:i.toLowerCase(),time_limit_seconds:"draw"===t?90:45})}else{let s=m[(e-31)%2].substring(0,100);a.push({question_id:`writing-${e}-paragraph`,type:"writing",skill:t,difficulty:"hard",prompt:`Write about what you learned from this story: "${s}..."`,correct_answer:"brief response expected",time_limit_seconds:120})}return a.slice(0,5)}static getLettersForLevel(e,t){if("en"===t){let t=(e-1)*5;return"abcdefghijklmnopqrstuvwxyz".split("").slice(t,t+5)}return"hi"===t?["à¤…","à¤†","à¤‡","à¤ˆ","à¤‰","à¤","à¤“","à¤•","à¤–","à¤—"].slice(0,e+1):["ä½ ","æˆ‘","ä»–","æ˜¯","ä¸","äº†","åœ¨","æœ‰","è¿™","é‚£"].slice(0,e+1)}static getWordsForLevel(e,t){let s=e-5;return s<=5?r.slice(0,5):s<=10?o.slice(0,5):d.slice(0,5)}}class g{static generateReadingQuestions(e,t="en"){let s=[];if(e<=5){let a="en"===t?"abcdefghijklmnopqrstuvwxyz".split(""):"hi"===t?["à¤…","à¤†","à¤‡","à¤ˆ","à¤‰","à¤","à¤“","à¤•","à¤–","à¤—","à¤˜","à¤š"]:["ä½ ","æˆ‘","ä»–","æ˜¯","ä¸","äº†","åœ¨","æœ‰","è¿™","é‚£","åˆ«","å’Œ"],i=(e-1)*5,n=a.slice(i,Math.min(i+5,a.length));for(let a=0;a<Math.min(5,n.length);a++){let i=n[a],l=this.generateLetterOptions(i,t);s.push({question_id:`reading-${t}-${e}-letter-${a}`,type:"reading",difficulty:e>3?"medium":"easy",text:`Which character is "${i}"?`,question:`Look carefully. Find the letter "${i}"`,options:l,correct_answer_index:l.indexOf(i),time_limit_seconds:12})}}else if(e<=15){let t=this.getReadingWordsForLevel(e).slice(0,5);for(let a=0;a<t.length;a++){let i=t[a],n=this.generateWordOptions(i);s.push({question_id:`reading-${e}-word-${a}`,type:"reading",difficulty:"medium",text:"Read the word and find it again",question:`Which word says "${i}"?`,options:n,correct_answer_index:n.indexOf(i),time_limit_seconds:18})}}else if(e<=30){let t=[{text:"The cat sat on the mat.",question:"Where did the cat sit?",options:["on a bed","on the mat","on a chair","on a box"],answer:1},{text:"Dogs like to play and run.",question:"What do dogs like to do?",options:["sit","play and run","sleep","eat"],answer:1},{text:"The sun is hot and bright.",question:"How is the sun?",options:["cold","small","hot and bright","dark"],answer:2},{text:"Birds can fly high in the sky.",question:"What can birds do?",options:["swim","run","fly in the sky","climb"],answer:2},{text:"I like apples. They are red and sweet.",question:"What color are the apples?",options:["green","yellow","red","blue"],answer:2}],a=t[(e-16)%t.length];s.push({question_id:`reading-${e}-passage`,type:"reading",difficulty:"medium",text:a.text,question:a.question,options:a.options,correct_answer_index:a.answer,time_limit_seconds:25})}else{let t=[{text:"Emma loves to read books. She goes to the library every week. Her favorite books are about animals and adventures. Emma wants to be a writer one day.",question:"Where does Emma go to find books?",options:["school","library","home","park"],answer:1},{text:"Yesterday, I went to the park with my family. We played games and had a picnic. My sister climbed the big tree. We had so much fun!",question:"What did the family do at the park?",options:["watched TV","played games","studied","slept"],answer:1},{text:"Bees are very important insects. They fly from flower to flower. Bees collect pollen and make honey. Honey is sweet and healthy.",question:"Why are bees important?",options:["they are big","they collect pollen","they can fly","they sleep"],answer:1}],a=t[(e-31)%t.length];s.push({question_id:`reading-${e}-complex`,type:"reading",difficulty:"hard",text:a.text,question:a.question,options:a.options,correct_answer_index:a.answer,time_limit_seconds:35})}return s.slice(0,5)}static getReadingWordsForLevel(e){let t=e-5;return t<=3?r:t<=6?o:t<=9?d:c}static generateLetterOptions(e,t="en"){let s="en"===t?"ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""):"hi"===t?["à¤…","à¤†","à¤‡","à¤ˆ","à¤‰","à¤","à¤“","à¤•","à¤–","à¤—","à¤˜","à¤š"]:["ä½ ","æˆ‘","ä»–","æ˜¯","ä¸","äº†","åœ¨","æœ‰","è¿™","é‚£","ä»–","å¥¹"],a=[e];for(;a.length<4;){let e=s[Math.floor(Math.random()*s.length)];a.includes(e)||a.push(e)}return this.shuffle(a)}static generateWordOptions(e){let t=["cat","dog","fish","bird","tree","sun","moon","star","apple","ball","box","hat","mat","rat"],s=[e];for(;s.length<4;){let e=t[Math.floor(Math.random()*t.length)];s.includes(e)||s.push(e)}return this.shuffle(s)}static shuffle(e){let t=[...e];for(let e=t.length-1;e>0;e--){let s=Math.floor(Math.random()*(e+1));[t[e],t[s]]=[t[s],t[e]]}return t}}class x{static generateListeningQuestions(e,t="en"){let s=[];if(e<=5){let a="en"===t?"abcdefghijklmnopqrstuvwxyz".split(""):"hi"===t?["à¤…","à¤†","à¤‡","à¤ˆ","à¤‰","à¤","à¤“","à¤•","à¤–","à¤—"]:["ä½ ","æˆ‘","ä»–","æ˜¯","ä¸","äº†","åœ¨","æœ‰","è¿™","é‚£"],i=(e-1)*5,n=a.slice(i,Math.min(i+5,a.length));for(let a=0;a<Math.min(5,n.length);a++){let i=n[a],l=this.generateLetterOptions(i,t),r=l.indexOf(i);s.push({question_id:`listening-${t}-${e}-${a}`,type:"listening",difficulty:e>3?"medium":"easy",audio_url:"",question:"Listen to the sound. Which letter/character did you hear?",options:l,correct_answer_index:r,time_limit_seconds:10})}}else if(e<=15){let t=this.getListeningWordsForLevel(e).slice(0,5);for(let a=0;a<t.length;a++){let i=t[a],n=this.generateWordOptions(i),l=n.indexOf(i);s.push({question_id:`listening-${e}-word-${a}`,type:"listening",difficulty:"medium",audio_url:"",question:"Listen carefully. Which word did you hear?",options:n,correct_answer_index:l,time_limit_seconds:15})}}else{let t=[{audio:"A cat is sleeping on the mat",question:"Where is the cat?",options:["on a bed","on the mat","under a table"],answer:1},{audio:"The dog can run very fast",question:"What can the dog do?",options:["jump","run fast","fly"],answer:1},{audio:"I like to eat apples",question:"What does he like to eat?",options:["oranges","apples","bananas"],answer:1},{audio:"The bird is flying in the sky",question:"Where is the bird?",options:["in a tree","in the sky","on ground"],answer:1},{audio:"Emma has a red pencil and a blue pen",question:"What color is the pencil?",options:["blue","red","green"],answer:1}],a=t[(e-16)%t.length];s.push({question_id:`listening-${e}-sentence`,type:"listening",difficulty:e>40?"hard":"medium",audio_url:"",question:a.question,options:a.options,correct_answer_index:a.answer,time_limit_seconds:e>30?25:20})}return s.slice(0,5)}static getListeningWordsForLevel(e){let t=e-5;return t<=3?r:t<=6?o:t<=9?d:c}static generateLetterOptions(e,t="en"){let s="en"===t?"abcdefghijklmnopqrstuvwxyz".split(""):"hi"===t?["à¤…","à¤†","à¤‡","à¤ˆ","à¤‰","à¤","à¤“","à¤•","à¤–","à¤—","à¤˜","à¤š","à¤›","à¤œ","à¤","à¤ž"]:["ä½ ","æˆ‘","ä»–","æ˜¯","ä¸","äº†","åœ¨","æœ‰","è¿™","é‚£","åˆ«","å’Œ","ä¹Ÿ","ä¼š","æœ‰","äº†"],a=[e];for(;a.length<4;){let e=s[Math.floor(Math.random()*s.length)];a.includes(e)||a.push(e)}return this.shuffle(a)}static generateWordOptions(e){let t=["cat","dog","fish","bird","tree","sun","moon","star","apple","ball","run","jump","sit","play","eat","sleep"],s=[e];for(;s.length<4;){let e=t[Math.floor(Math.random()*t.length)];s.includes(e)||s.push(e)}return this.shuffle(s)}static shuffle(e){let t=[...e];for(let e=t.length-1;e>0;e--){let s=Math.floor(Math.random()*(e+1));[t[e],t[s]]=[t[s],t[e]]}return t}}class p{static generateLevel(e,t="en"){let s=[];return s.push(...h.generateWritingQuestions(e,e%2==0?"draw":"type",t).slice(0,2)),s.push(...g.generateReadingQuestions(e,t).slice(0,2)),s.push(...x.generateListeningQuestions(e,t).slice(0,1)),s}}let f=[[1,1],[1,2],[1,3],[1,4],[2,2],[2,3],[3,2]],b=[[3,4],[4,4],[3,5],[4,5],[4,6],[5,5],[5,6],[6,4]],y=[[10,1],[10,2],[10,3],[10,4],[10,5],[10,6],[10,7],[10,8],[10,9]],v=[[2,1],[3,1],[3,2],[4,1],[4,2],[4,3],[5,1],[5,2],[5,3],[5,4]],w=[[6,3],[7,3],[8,4],[9,5],[10,6]];class j{static generateMathQuestions(e){let t=[];if(e<=5)for(let s=0;s<5;s++){let a=Math.floor(2*e*Math.random())+1;t.push({question_id:`math-${e}-count-${s}`,type:"math",difficulty:e>3?"medium":"easy",operation:"addition",num1:a,num2:0,correct_answer:a,time_limit_seconds:20})}else if(e<=10)for(let s=0;s<5;s++){let a=f,[i,n]=a[s%a.length];t.push({question_id:`math-${e}-subit-${s}`,type:"math",difficulty:"easy",operation:"addition",num1:i,num2:n,correct_answer:i+n,time_limit_seconds:15})}else if(e<=15)for(let s=0;s<5;s++){let a=b,[i,n]=a[s%a.length];t.push({question_id:`math-${e}-add10-${s}`,type:"math",difficulty:"easy",operation:"addition",num1:i,num2:n,correct_answer:i+n,time_limit_seconds:20})}else if(e<=20)for(let s=0;s<5;s++){let a=y,[i,n]=a[s%a.length];t.push({question_id:`math-${e}-teen-${s}`,type:"math",difficulty:"medium",operation:"addition",num1:i,num2:n,correct_answer:i+n,time_limit_seconds:25})}else if(e<=25)for(let s=0;s<5;s++){let a=v,[i,n]=a[s%a.length];t.push({question_id:`math-${e}-sub-${s}`,type:"math",difficulty:"medium",operation:"subtraction",num1:i,num2:n,correct_answer:i-n,time_limit_seconds:25})}else if(e<=30)for(let s=0;s<5;s++){let a=w,[i,n]=a[s%a.length];t.push({question_id:`math-${e}-submed-${s}`,type:"math",difficulty:"medium",operation:"subtraction",num1:i,num2:n,correct_answer:i-n,time_limit_seconds:30})}else if(e<=35){let s=e-30;for(let a=0;a<5;a++){let i,n,l,r="multiplication";l=s<=1?(i=2)*(n=a+2):s<=2?(i=5)*(n=a+1):(i=10)*(n=a+1),r="multiplication",t.push({question_id:`math-${e}-mixed-${a}`,type:"math",difficulty:"hard",operation:r,num1:i,num2:n,correct_answer:l,time_limit_seconds:50})}}return t}static generateMathOptions(e){let t=[e];for(;t.length<4;){let s=e+Math.floor(10*Math.random())-5;s<0&&(s=Math.abs(s)),s===e||t.includes(s)||t.push(s)}for(let e=t.length-1;e>0;e--){let s=Math.floor(Math.random()*(e+1));[t[e],t[s]]=[t[s],t[e]]}return t}static isCorrect(e,t,s,a){switch(e){case"addition":return t+s===a;case"subtraction":return t-s===a;case"multiplication":return t*s===a;case"division":return t/s===a;default:return!1}}}class _{static generateLogicalQuestions(e){let t=[];if(e<=10)for(let s=0;s<5;s++)t.push(this.generateBasicPatternQuestion(e,s));else if(e<=20)for(let s=0;s<5;s++)t.push(this.generateSequenceQuestion(e,s));else if(e<=30)for(let s=0;s<5;s++)t.push(this.generateSpatialQuestion(e,s));else if(e<=40)for(let s=0;s<5;s++)t.push(this.generateLogicPuzzleQuestion(e,s));else for(let s=0;s<5;s++)t.push(this.generateAdvancedQuestion(e,s));return t}static generateBasicPatternQuestion(e,t){let s=[{question:"ðŸ”´ ðŸŸ¡ ðŸŸ¢ ?",options:["ðŸ”µ","ðŸŸ¡","ðŸ”´","â­"],correctIndex:0,difficulty:"easy"},{question:"â–² â–² â— â— â–  ?",options:["â– ","â–²","â—","â—†"],correctIndex:2,difficulty:"medium"},{question:"Small Big Small Big ?",options:["Big","Small","Medium","Tiny"],correctIndex:0,difficulty:"medium"},{question:"1ï¸âƒ£ 2ï¸âƒ£ 1ï¸âƒ£ 2ï¸âƒ£ ?",options:["1ï¸âƒ£","2ï¸âƒ£","3ï¸âƒ£"],correctIndex:0,difficulty:"easy"},{question:"Red Red Blue Blue Red ?",options:["Red","Blue","Green"],correctIndex:1,difficulty:"hard"}],a=s[t%s.length];return{question_id:`logical-${e}-pattern-${t}`,type:"logical",sub_type:"pattern",difficulty:e<=3?"easy":e<=7?"medium":"hard",question:a.question,options:a.options,correct_answer_index:a.correctIndex,time_limit_seconds:15}}static generateSequenceQuestion(e,t){let s,a,i,n,l=e-10;if(l<=3){let e=[{seq:"1 2 3 4 5 ?",opts:["6","5","7"]},{seq:"2 4 6 8 10 ?",opts:["12","10","14"]},{seq:"5 10 15 20 25 ?",opts:["30","25","35"]},{seq:"10 20 30 40 50 ?",opts:["60","50","70"]},{seq:"3 6 9 12 15 ?",opts:["18","15","21"]}],l=e[t%e.length];s=l.seq,a=l.opts,i=0,n="medium"}else if(l<=6){let e=[{seq:"1 1 2 3 5 ?",opts:["8","6","7"]},{seq:"2 2 4 6 10 ?",opts:["16","12","14"]},{seq:"1 2 3 5 8 ?",opts:["13","11","12"]}],l=e[t%e.length];s=l.seq,a=l.opts,i=0,n="hard"}else{let e=[{seq:"1 4 9 16 25 ?",opts:["36","30","35"]},{seq:"2 3 5 8 13 ?",opts:["21","18","20"]},{seq:"1 1 2 2 3 3 ?",opts:["4","3","5"]}],l=e[t%e.length];s=l.seq,a=l.opts,i=0,n="hard"}return{question_id:`logical-${e}-sequence-${t}`,type:"logical",sub_type:"sequence",difficulty:n,question:s,options:a,correct_answer_index:i,time_limit_seconds:20}}static generateSpatialQuestion(e,t){let s=[{question:"ðŸ”´ rotated 90Â° clockwise looks like: ?",options:["ðŸ”´ (top-right)","ðŸ”´ (bottom-left)","ðŸ”´ (same)"],correctIndex:2,difficulty:"medium"},{question:"â–² flipped horizontally looks like: ?",options:["â–² (same)","â–¼","â—„"],correctIndex:1,difficulty:"medium"},{question:"ðŸ“¦ rotated 180Â° looks like: ?",options:["ðŸ“¦ (upside down)","ðŸ“¦ (same)","ðŸ“¦ (sideways)"],correctIndex:0,difficulty:"hard"},{question:"How many sides does a square have?",options:["3","4","5","6"],correctIndex:1,difficulty:"easy"},{question:"Which shape has no corners?",options:["Square","Triangle","Circle","Pentagon"],correctIndex:2,difficulty:"easy"}],a=s[t%s.length];return{question_id:`logical-${e}-spatial-${t}`,type:"logical",sub_type:"puzzle",difficulty:a.difficulty,question:a.question,options:a.options,correct_answer_index:a.correctIndex,time_limit_seconds:20}}static generateLogicPuzzleQuestion(e,t){let s=[{question:"All cats are animals. Fluffy is a cat. Is Fluffy an animal?",options:["Yes","No","Maybe"],correctIndex:0,difficulty:"hard"},{question:"If it rains, the ground is wet. It's raining. Is the ground wet?",options:["Yes","No","Maybe"],correctIndex:0,difficulty:"hard"},{question:"John is taller than Mary. Mary is taller than Sue. Who is tallest?",options:["John","Mary","Sue"],correctIndex:0,difficulty:"hard"},{question:"Red is not blue. The ball is red. Is the ball blue?",options:["Yes","No","Cannot tell"],correctIndex:1,difficulty:"hard"},{question:"Some dogs are white. All white things are precious. Are all dogs precious?",options:["Yes","No","Not necessarily"],correctIndex:2,difficulty:"hard"}],a=s[t%s.length];return{question_id:`logical-${e}-logic-${t}`,type:"logical",sub_type:"puzzle",difficulty:a.difficulty,question:a.question,options:a.options,correct_answer_index:a.correctIndex,time_limit_seconds:25}}static generateAdvancedQuestion(e,t){let s=[{question:"Which number completes the pattern? 2 4 8 16 32 ?",options:["64","40","48"],correctIndex:0,difficulty:"hard"},{question:"Find the odd one out: Apple, Orange, Carrot, Banana",options:["Apple","Carrot","Orange","Banana"],correctIndex:1,difficulty:"hard"},{question:"If A=1, B=2, C=3... What is the 26th letter?",options:["Y","Z","X"],correctIndex:1,difficulty:"hard"},{question:"What comes next in this pattern? 1 4 9 16 25 ?",options:["36","35","34"],correctIndex:0,difficulty:"hard"},{question:"Which shape doesn't belong? â–² â–  â— â—† â– ",options:["â–²","â—","â—†"],correctIndex:1,difficulty:"hard"}],a=s[t%s.length];return{question_id:`logical-${e}-advanced-${t}`,type:"logical",sub_type:e>45?"memory":"puzzle",difficulty:a.difficulty,question:a.question,options:a.options,correct_answer_index:a.correctIndex,time_limit_seconds:30}}}let N={1:.6,2:.7,3:.8,4:.9,5:1},k={1:5,2:10,3:15,4:20,5:25},q=!0,L=.1;class ${static generateLevel(e,t,s){let a={level_id:`${e}-level-${t}`,domain:e,level_number:t,difficulty:this.calculateDifficulty(t),title:this.generateLevelTitle(e,t),description:this.generateLevelDescription(e,t),max_stars:5,created_at:new Date().toISOString(),is_available:!0},i=this.generateQuestions(e,t,s?.locale);return{...a,questions:i}}static generateQuestions(e,t,s){switch(e){case"language":return p.generateLevel(t,s||"en");case"mathematics":return j.generateMathQuestions(t);case"logical":return _.generateLogicalQuestions(t);default:return[]}}static calculateDifficulty(e){return e<=5?"easy":e<=15?"medium":"hard"}static generateLevelTitle(e,t){return`${({language:"Language",mathematics:"Math",logical:"Logic"})[e]} Level ${t}`}static generateLevelDescription(e,t){return({language:{early:"Learn letters and basic words",intermediate:"Practice reading and writing",advanced:"Master sentences and comprehension"},mathematics:{early:"Discover numbers and simple addition",intermediate:"Practice multiplication and division",advanced:"Solve complex math problems"},logical:{early:"Recognize patterns and sequences",intermediate:"Solve puzzles and remember patterns",advanced:"Master complex logic challenges"}})[e][t<=5?"early":t<=15?"intermediate":"advanced"]}}class S{static createSession(e,t,s,a){return{session_id:`session-${e}-${Date.now()}`,kid_id:e,level_id:t,domain:s,level_number:a,started_at:new Date().toISOString(),score:0,time_taken_seconds:0,answers:[],stars_earned:0,is_completed:!1}}static calculateResult(e,t){let s=e.answers.length,a=e.answers.filter(e=>e.is_correct).length/s*100,i=0;for(let e=5;e>=1;e--)if(a>=100*N[e]){i=e;break}let n=k[i]||0,l=0;q&&(l=Math.floor(Math.max(0,t-e.time_taken_seconds)*L));let r=n+l;return{session_id:e.session_id,level_id:e.level_id,domain:e.domain,level_number:e.level_number,is_completed:i>=1,stars_earned:i,score:e.score,percentage:Math.round(a),time_taken_seconds:e.time_taken_seconds,feedback:this.generateFeedback(a,i),next_level_available:i>=3,points_awarded:r}}static generateFeedback(e,t){if(5===t)return"ðŸŒŸ Perfect! You're a superstar!";if(4===t)return"â­ Excellent work!";if(3===t)return"Good job! Keep practicing!";if(2===t)return"Nice try! You can do better!";if(1===t)return"âœ¨ You passed! Try again to improve!";else return"Keep practicing! You'll get it next time!"}static recordAnswer(e,t){let s={...e};return s.answers.push(t),t.is_correct&&(s.score+=10),s.time_taken_seconds+=t.time_taken_seconds,s}static completeSession(e){return{...e,is_completed:!0,completed_at:new Date().toISOString()}}static generateReason(e,t,s){return`${({language:"Language",mathematics:"Mathematics",logical:"Logical Thinking"})[e]} Level ${t} - ${s} Stars`}}var M=e.i(37045),I=e.i(56043),C=e.i(69547);let A=(0,C.default)("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);function T({question:e,index:a,totalQuestions:i,onAnswer:n,timeLimit:l,onTimeUp:r,isAnswered:o}){let d,[c,u]=(0,s.useState)(l),[m,h]=(0,s.useState)(""),[g,x]=(0,s.useState)(null);(0,s.useEffect)(()=>{if(o)return;let e=setInterval(()=>{u(t=>t<=1?(clearInterval(e),r(),0):t-1)},1e3);return()=>clearInterval(e)},[o,r]);let p=c<=5;return(0,t.jsxs)("div",{className:"w-full max-w-2xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsxs)("div",{className:"text-sm font-medium text-neutral-600",children:["Question ",a+1," of ",i]}),(0,t.jsxs)("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg ${p?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,children:[(0,t.jsx)(I.Clock,{className:"h-4 w-4"}),(0,t.jsxs)("span",{className:`font-bold ${(d=c/l*100)>50?"text-green-600":d>25?"text-amber-600":"text-red-600"}`,children:[c,"s"]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-8 mb-6",children:["writing"===e.type&&(0,t.jsx)(W,{question:e,userAnswer:m,setUserAnswer:h}),"reading"===e.type&&(0,t.jsx)(P,{question:e,selectedOption:g,setSelectedOption:x}),"listening"===e.type&&(0,t.jsx)(Q,{question:e,selectedOption:g,setSelectedOption:x}),"math"===e.type&&(0,t.jsx)(O,{question:e,userAnswer:m,setUserAnswer:h}),"logical"===e.type&&(0,t.jsx)(z,{question:e,selectedOption:g,setSelectedOption:x})]}),(0,t.jsx)("button",{onClick:()=>{"math"===e.type?n(parseInt(m)||0):["reading","listening","logical"].includes(e.type)?n(g??-1):n(m)},disabled:o||"writing"===e.type&&!m||["reading","listening","logical"].includes(e.type)&&null===g,className:"w-full md:w-auto px-8 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white font-bold rounded-lg hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:o?"âœ“ Answered":"Check Answer"})]})}function W({question:e,userAnswer:s,setUserAnswer:a}){return(0,t.jsxs)("div",{className:"text-center space-y-6",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-neutral-800",children:e.prompt}),"draw"===e.skill?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("p",{className:"text-neutral-600 italic",children:"Use your mouse or touchscreen to draw"}),(0,t.jsx)("canvas",{id:"drawing-canvas",className:"w-full border-2 border-dashed border-blue-300 rounded-lg bg-white cursor-crosshair",style:{height:"300px"}})]}):(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("p",{className:"text-neutral-600",children:"Type below:"}),(0,t.jsx)("input",{type:"text",value:s,onChange:e=>a(e.target.value),placeholder:"Type your answer...",className:"w-full px-4 py-3 border-2 border-blue-300 rounded-lg text-lg focus:outline-none focus:border-blue-600",autoFocus:!0})]})]})}function P({question:e,selectedOption:s,setSelectedOption:a}){return(0,t.jsxs)("div",{className:"space-y-6",children:[e.image_url&&(0,t.jsx)("img",{src:e.image_url,alt:"Reading context",className:"w-full rounded-lg max-h-48 object-cover"}),(0,t.jsx)("div",{className:"bg-blue-50 p-4 rounded-lg",children:(0,t.jsxs)("p",{className:"text-neutral-700 italic",children:['"',e.text,'"']})}),(0,t.jsx)("h3",{className:"text-xl font-bold text-neutral-800",children:e.question}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:e.options.map((e,i)=>(0,t.jsx)("button",{onClick:()=>a(i),className:`p-4 rounded-lg font-semibold transition-all ${s===i?"bg-blue-600 text-white shadow-lg":"bg-neutral-100 text-neutral-800 hover:bg-neutral-200"}`,children:e},i))})]})}function Q({question:e,selectedOption:a,setSelectedOption:i}){let[n,l]=(0,s.useState)(!1);return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"text-center",children:(0,t.jsxs)("button",{onClick:()=>{if("speechSynthesis"in window){let t=new SpeechSynthesisUtterance(e.question);t.rate=.8,speechSynthesis.speak(t),l(!0),t.onend=()=>l(!1)}},disabled:n,className:"inline-flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-purple-600 to-purple-700 text-white font-bold rounded-lg hover:shadow-lg disabled:opacity-50 transition-all",children:[(0,t.jsx)(A,{className:"h-5 w-5"}),n?"Playing...":"ðŸ”Š Listen"]})}),(0,t.jsx)("h3",{className:"text-xl font-bold text-neutral-800 text-center",children:"Which option did you hear?"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:e.options.map((e,s)=>(0,t.jsx)("button",{onClick:()=>i(s),className:`p-4 rounded-lg font-semibold transition-all ${a===s?"bg-purple-600 text-white shadow-lg":"bg-neutral-100 text-neutral-800 hover:bg-neutral-200"}`,children:e},s))})]})}function O({question:e,userAnswer:s,setUserAnswer:a}){return(0,t.jsxs)("div",{className:"text-center space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-8 rounded-xl",children:[(0,t.jsx)("div",{className:"text-6xl font-bold text-neutral-800",children:e.num1}),(0,t.jsx)("div",{className:"text-5xl text-green-600 font-bold my-2",children:(e=>{switch(e){case"addition":return"+";case"subtraction":return"âˆ’";case"multiplication":return"Ã—";case"division":return"Ã·";default:return"?"}})(e.operation)}),(0,t.jsx)("div",{className:"text-6xl font-bold text-neutral-800",children:e.num2}),(0,t.jsx)("div",{className:"text-4xl text-neutral-400 mt-4",children:"="}),(0,t.jsx)("div",{className:"text-5xl font-bold text-neutral-800 mt-2",children:"?"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-neutral-600 font-medium",children:"Your answer:"}),(0,t.jsx)("input",{type:"number",value:s,onChange:e=>a(e.target.value),placeholder:"Type your answer...",className:"w-full px-4 py-3 text-2xl font-bold border-2 border-green-300 rounded-lg text-center focus:outline-none focus:border-green-600",autoFocus:!0})]})]})}function z({question:e,selectedOption:s,setSelectedOption:a}){return(0,t.jsxs)("div",{className:"space-y-6",children:[e.image_urls&&e.image_urls.length>0&&(0,t.jsx)("div",{className:"flex gap-4 justify-center flex-wrap",children:e.image_urls.map((e,s)=>(0,t.jsx)("img",{src:e,alt:`Logic visual ${s}`,className:"max-h-32 rounded-lg"},s))}),(0,t.jsx)("h3",{className:"text-2xl font-bold text-neutral-800 text-center",children:e.question}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:e.options.map((e,i)=>(0,t.jsx)("button",{onClick:()=>a(i),className:`p-4 rounded-lg font-semibold transition-all text-lg ${s===i?"bg-orange-600 text-white shadow-lg":"bg-neutral-100 text-neutral-800 hover:bg-neutral-200"}`,children:e},i))})]})}var F=e.i(3299),E=e.i(86122),D=e.i(88478);let R=(0,C.default)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);function B({result:e,onNextLevel:s,onRetry:a,kidName:i}){return(0,t.jsx)("div",{className:"w-full max-w-2xl mx-auto",children:(0,t.jsxs)("div",{className:"relative overflow-hidden",children:[(0,t.jsxs)("div",{className:`bg-gradient-to-r ${5===e.stars_earned?"from-yellow-400 to-amber-500":4===e.stars_earned?"from-purple-400 to-purple-500":3===e.stars_earned?"from-blue-400 to-blue-500":2===e.stars_earned?"from-cyan-400 to-cyan-500":1===e.stars_earned?"from-gray-400 to-gray-500":"from-red-400 to-red-500"} rounded-2xl shadow-2xl p-8 text-center text-white mb-6`,children:[(0,t.jsx)("div",{className:"inline-block p-4 bg-white/20 rounded-full mb-4",children:(0,t.jsx)(F.Trophy,{className:"h-16 w-16"})}),(0,t.jsx)("h2",{className:"text-3xl md:text-4xl font-bold mb-2",children:e.is_completed?"ðŸŽ‰ Level Complete!":"Keep Practicing!"}),(0,t.jsxs)("p",{className:"text-xl opacity-90 mb-6",children:["Great job",i?`, ${i}`:"","! ðŸŽŠ"]}),(0,t.jsx)("div",{className:"flex justify-center gap-2 mb-8 text-5xl",children:[1,2,3,4,5].map(s=>(0,t.jsx)("span",{className:`${s<=e.stars_earned?"block":"opacity-30"} transition-all duration-300`,children:"â­"},s))}),(0,t.jsx)("p",{className:"text-lg font-medium mb-4",children:e.feedback})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[(0,t.jsx)(G,{label:"Correct Answers",value:`${e.percentage}%`,icon:"âœ…"}),(0,t.jsx)(G,{label:"Points Earned",value:`${e.points_awarded}`,icon:"ðŸ†"}),(0,t.jsx)(G,{label:"Time Taken",value:`${e.time_taken_seconds}s`,icon:"â±ï¸"}),(0,t.jsx)(G,{label:"Level",value:`${e.level_number}`,icon:"ðŸ“Š"})]}),e.stars_earned>=5&&(0,t.jsxs)("div",{className:"bg-gradient-to-r from-yellow-100 to-amber-100 border-2 border-yellow-400 rounded-xl p-6 mb-6 text-center",children:[(0,t.jsxs)("div",{className:"inline-flex items-center gap-2 mb-2",children:[(0,t.jsx)(E.Award,{className:"h-6 w-6 text-amber-600"}),(0,t.jsx)("span",{className:"text-sm font-bold text-amber-700",children:"ACHIEVEMENT UNLOCKED"})]}),(0,t.jsx)("p",{className:"text-amber-900 font-semibold",children:"Perfect Score! You're a level master! ðŸŒŸ"})]}),e.stars_earned<3&&!e.is_completed&&(0,t.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 mb-6 text-center",children:(0,t.jsx)("p",{className:"text-blue-900 text-sm",children:"ðŸ’¡ Tip: Get at least 3 stars to unlock the next level!"})}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,t.jsxs)("button",{onClick:a,className:"flex-1 px-6 py-3 bg-neutral-600 hover:bg-neutral-700 text-white font-bold rounded-lg flex items-center justify-center gap-2 transition-colors",children:[(0,t.jsx)(R,{className:"h-5 w-5"}),"Try Again"]}),e.next_level_available&&(0,t.jsxs)("button",{onClick:s,className:"flex-1 px-6 py-3 bg-gradient-to-r from-green-600 to-emerald-600 hover:shadow-lg text-white font-bold rounded-lg flex items-center justify-center gap-2 transition-all",children:["Next Level",(0,t.jsx)(D.ArrowRight,{className:"h-5 w-5"})]})]})]})})}function G({label:e,value:s,icon:a}){return(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 text-center",children:[(0,t.jsx)("div",{className:"text-3xl mb-2",children:a}),(0,t.jsx)("div",{className:"text-2xl font-bold text-neutral-800 mb-1",children:s}),(0,t.jsx)("div",{className:"text-xs text-neutral-600",children:e})]})}function U({currentLevel:e,maxLevel:s,starsPerLevel:a}){let i=e/s*100;return(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h3",{className:"font-bold text-neutral-800",children:"Progress"}),(0,t.jsxs)("span",{className:"text-sm text-neutral-600",children:["Level ",e," of ",s]})]}),(0,t.jsx)("div",{className:"w-full bg-neutral-200 rounded-full h-3 overflow-hidden",children:(0,t.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-full transition-all duration-500",style:{width:`${i}%`}})}),(0,t.jsx)("div",{className:"flex gap-2 flex-wrap mt-3",children:[...Array(Math.min(5,e))].map((s,i)=>{let n=e-i,l=a[n]||0;return(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("div",{className:"text-xs text-neutral-600 mb-1",children:["L",n]}),(0,t.jsx)("div",{className:"flex gap-0.5",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,t.jsx)("span",{className:`text-sm ${s<l?"block":"opacity-20"}`,children:"â­"},s))})]},n)})})]})}let Y=(0,C.default)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),K=(0,C.default)("calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),H=(0,C.default)("brain",[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]]);var V=e.i(35707);let X=(0,C.default)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function J({selectedDomain:e,onSelectDomain:s,domainProgress:a,kidId:n}){let l=[{id:"language",name:"Language",description:"Writing, Reading & Listening",icon:(0,t.jsx)(Y,{className:"h-8 w-8"}),color:"from-blue-500 to-cyan-500"},{id:"mathematics",name:"Mathematics",description:"Numbers & Operations",icon:(0,t.jsx)(K,{className:"h-8 w-8"}),color:"from-green-500 to-emerald-500"},{id:"logical",name:"Logic",description:"Puzzles & Patterns",icon:(0,t.jsx)(H,{className:"h-8 w-8"}),color:"from-purple-500 to-pink-500"}];return(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:l.map(l=>{let r=(a[l.id]||1)+1,o=n?M.gameAPI.getLevelLockStatus(n,l.id,r):{isLocked:!1},d=n?M.gameAPI.getTimeUntilUnlock(n,l.id,r):"";return(0,t.jsx)(i.default,{href:`/domains/${l.id}`,children:(0,t.jsx)("div",{onClick:()=>s(l.id),className:`p-6 rounded-xl transition-all transform hover:scale-105 block cursor-pointer ${e===l.id?`bg-gradient-to-r ${l.color} text-white shadow-xl ring-2 ring-offset-2`:"bg-white text-neutral-800 shadow hover:shadow-lg border-2 border-transparent"}`,children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-3 text-center",children:[(0,t.jsx)("div",{className:`p-3 rounded-lg ${e===l.id?"bg-white/20":`bg-gradient-to-r ${l.color} text-white p-3 rounded-lg`}`,children:l.icon}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-bold text-lg",children:l.name}),(0,t.jsx)("p",{className:"text-sm opacity-75",children:l.description})]}),(0,t.jsxs)("div",{className:"text-2xl font-bold",children:["Level ",a[l.id]||1]}),o.isLocked&&(0,t.jsxs)("div",{className:"mt-2 flex items-center gap-2 text-amber-600 text-sm",children:[(0,t.jsx)(V.Lock,{className:"h-4 w-4"}),(0,t.jsxs)("span",{children:["Next unlocks in ",d]})]})]})})},l.id)})})}function Z({currentDomain:e,maxLevelCompleted:s,starsPerLevel:a,onSelectLevel:i,isLoading:n=!1}){let l=Array.from({length:Math.min(s+5,50)},(e,t)=>t+1);return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-neutral-800",children:"Select a Level"}),(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 md:grid-cols-6 gap-3",children:l.map(e=>{let l=a[e]||0,r=e<=s+1,o=e===s+1;return(0,t.jsxs)("button",{onClick:()=>{r&&!n&&i(e)},disabled:!r||n,className:`relative p-4 rounded-lg font-bold transition-all ${o?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg ring-2 ring-blue-300 animate-pulse":r?l>0?"bg-gradient-to-br from-amber-100 to-yellow-100 text-neutral-800 hover:shadow-md":"bg-blue-100 text-blue-800 hover:bg-blue-200":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:[(0,t.jsx)("div",{className:"text-lg font-bold",children:e}),r&&(0,t.jsx)("div",{className:"flex gap-0.5 justify-center mt-1",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,t.jsx)("span",{className:`text-xs ${s<l?"block":"opacity-20"}`,children:"â­"},s))}),!r&&(0,t.jsx)(V.Lock,{className:"h-4 w-4 mx-auto mt-1"}),o&&(0,t.jsx)("div",{className:"absolute -top-2 -right-2",children:(0,t.jsx)(X,{className:"h-5 w-5 text-yellow-400"})})]},e)})}),(0,t.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-center",children:(0,t.jsx)("p",{className:"text-sm text-blue-900",children:"ðŸ’¡ Complete levels with 3+ stars to unlock the next level"})})]})}function ee({kidName:e,totalStars:s,levelsCompleted:a,totalPoints:i}){return(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,t.jsx)(et,{label:"Name",value:e,icon:"ðŸ‘¤"}),(0,t.jsx)(et,{label:"Total Stars",value:s.toString(),icon:"â­"}),(0,t.jsx)(et,{label:"Levels",value:Object.values(a).reduce((e,t)=>e+t,0).toString(),icon:"ðŸŽ¯"}),(0,t.jsx)(et,{label:"Points",value:i.toString(),icon:"ðŸ†"})]})}function et({label:e,value:s,icon:a}){return(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 text-center border-l-4 border-blue-500",children:[(0,t.jsx)("div",{className:"text-2xl mb-2",children:a}),(0,t.jsx)("div",{className:"text-xs text-neutral-600 mb-1",children:e}),(0,t.jsx)("div",{className:"text-2xl font-bold text-neutral-800",children:s})]})}var es=e.i(86408);let ea=(0,C.default)("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);function ei(){let[e,r]=(0,s.useState)([]),[o,d]=(0,s.useState)(null),[c,u]=(0,s.useState)(!1),[m,h]=(0,s.useState)("domain"),[g,x]=(0,s.useState)(!0),[p,f]=(0,s.useState)("en"),b=function(e){let[t,a]=(0,s.useState)(null),[i,n]=(0,s.useState)(1),[l,r]=(0,s.useState)([]),[o,d]=(0,s.useState)(0),[c,u]=(0,s.useState)(null),[m,h]=(0,s.useState)(null),[g,x]=(0,s.useState)({language:1,mathematics:1,logical:1}),[p,f]=(0,s.useState)({language:0,mathematics:0,logical:0}),[b,y]=(0,s.useState)({}),[v,w]=(0,s.useState)(!1),[j,_]=(0,s.useState)(null);(0,s.useEffect)(()=>{N()},[e]);let N=async()=>{try{w(!0);let t=await M.gameAPI.getKidGameProgress(e);x({language:t.language_level,mathematics:t.mathematics_level,logical:t.logical_level});let s=M.gameAPI.getDomainStars(e,"language"),a=M.gameAPI.getDomainStars(e,"mathematics"),i=M.gameAPI.getDomainStars(e,"logical");f({language:s,mathematics:a,logical:i});let n=M.gameAPI.getKidSessions(e),l={};n.forEach(e=>{l[e.level_number]=Math.max(l[e.level_number]||0,e.stars_earned)}),y(l)}catch(e){console.error("Failed to load game progress:",e),_("Failed to load your progress")}finally{w(!1)}},k=(0,s.useCallback)((t,s,i)=>{try{if(_(null),w(!0),!M.gameAPI.isLevelUnlocked(e,t,s)){_("This level is not unlocked yet. Complete the previous level!"),w(!1);return}let l=$.generateLevel(t,s,i),o=l.questions,c=S.createSession(e,l.level_id,t,s);a(t),n(s),r(o),d(0),u(c),h(null),w(!1)}catch(e){console.error("Failed to start game:",e),_("Failed to start game. Please try again."),w(!1)}},[e]),q=(0,s.useCallback)(e=>{if(!c||o>=l.length)return;let t=l[o],s=L(t,e),a={question_id:t.question_id,user_answer:e,correct_answer:t.correct_answer,is_correct:s,time_taken_seconds:t.time_limit_seconds},i=S.recordAnswer(c,a);u(i),o<l.length-1?d(o+1):I(i)},[c,o,l]),L=(e,t)=>{let s=e.correct_answer;return"math"===e.type?t===s:["reading","listening","logical"].includes(e.type)?t===e.correct_answer_index:"writing"===e.type&&String(t).toLowerCase().trim()===String(s).toLowerCase().trim()},I=async t=>{try{let s=l.reduce((e,t)=>e+t.time_limit_seconds,0),a=S.calculateResult(S.completeSession(t),s);if(h(a),a.stars_earned>0){await M.gameAPI.submitLevelCompletion(e,a.domain,a.level_number,a.stars_earned,a.points_awarded),await N();let t={...b};t[a.level_number]=a.stars_earned,y(t)}}catch(e){console.error("Failed to complete game:",e),_("Failed to save your score")}},C=(0,s.useCallback)(()=>{c&&I(c)},[c]),A=(0,s.useCallback)(()=>{o<l.length-1&&d(o+1)},[o,l.length]),T=(0,s.useCallback)(()=>{t&&k(t,i)},[t,i,k]);return{currentLevel:t,currentLevelNumber:i,questions:l,currentQuestionIndex:o,session:c,result:m,maxLevelCompleted:g,totalStars:p,starsPerLevel:b,startGame:k,submitAnswer:q,completeGame:C,nextQuestion:A,retryLevel:T,resetGame:(0,s.useCallback)(()=>{a(null),n(1),r([]),d(0),u(null),h(null),_(null)},[]),isLoading:v,error:j}}(o?.kid_id||"");(0,s.useEffect)(()=>{y()},[]),(0,s.useEffect)(()=>{let e=e=>{let t=e.detail;t&&d(t)};return window.addEventListener("kidChanged",e),()=>window.removeEventListener("kidChanged",e)},[]),(0,s.useEffect)(()=>{try{let e=new URLSearchParams(window.location.search),t=e.get("domain"),s=e.get("level"),a=e.get("lang");if(("hi"===a||"zh"===a)&&f(a),t&&s&&o){let e=parseInt(s,10);isNaN(e)||(b.startGame(t,e,{locale:p}),h("playing"))}}catch(e){}},[o]);let y=async()=>{try{let e=await l.api.getKids();r(e||[]);let t=n.auth.getUser();if(t&&"kid"===t.role){let s=e.find(e=>e.kid_id===t.id);s?(d(s),u(!1)):u(!0)}else u(!0)}catch(e){console.error("Failed to load kids",e)}finally{x(!1)}},v=e=>{b.submitAnswer(e)},w=()=>{b.resetGame(),h("domain")};return g?(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:(0,t.jsx)(ea,{className:"h-8 w-8 animate-spin text-blue-600"})}):c||!o?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(a.default,{children:[(0,t.jsx)("title",{children:"Select Kid - Learning Games"}),(0,t.jsx)("meta",{name:"description",content:"Select a kid to play learning games"}),(0,t.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[(0,t.jsx)("header",{className:"sticky top-0 z-50 backdrop-blur-md bg-white/80 border-b border-neutral-200",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)(i.default,{href:"/kids",className:"inline-flex items-center gap-2 px-4 py-2 text-neutral-600 hover:text-neutral-800 hover:bg-neutral-100 rounded-lg transition-colors",children:[(0,t.jsx)(es.ArrowLeft,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Back to Dashboard"})]}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-neutral-800",children:"Select a Kid"}),(0,t.jsx)("div",{className:"w-24"})]})})}),(0,t.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,t.jsxs)("button",{onClick:()=>{n.auth.loginAsKid(e),d(e),u(!1)},className:"group relative overflow-hidden rounded-2xl bg-white shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:scale-105",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br opacity-0 group-hover:opacity-10 transition-opacity"}),(0,t.jsxs)("div",{className:"p-8 text-center",children:[(0,t.jsx)("div",{className:"text-6xl mb-4",children:e.emoji}),(0,t.jsx)("h3",{className:"text-2xl font-bold text-neutral-800 mb-2",children:e.name}),(0,t.jsxs)("p",{className:"text-lg text-amber-600 font-semibold",children:[e.balance," Points"]})]})]},e.kid_id))})})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(a.default,{children:[(0,t.jsxs)("title",{children:[o.name," - Learning Games"]}),(0,t.jsx)("meta",{name:"description",content:"Gamified learning for kids"}),(0,t.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:(0,t.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[b.error&&(0,t.jsx)("div",{className:"mb-6 p-4 bg-red-100 border border-red-300 text-red-800 rounded-lg",children:b.error}),b.isLoading&&(0,t.jsx)(en,{}),"domain"===m&&!b.isLoading&&(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsx)(ee,{kidName:o.name,totalStars:b.totalStars.language+b.totalStars.mathematics+b.totalStars.logical,levelsCompleted:{language:b.maxLevelCompleted.language,mathematics:b.maxLevelCompleted.mathematics,logical:b.maxLevelCompleted.logical},totalPoints:o.balance}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-neutral-800 mb-6",children:"Choose a Learning Domain"}),(0,t.jsx)(J,{selectedDomain:b.currentLevel,onSelectDomain:e=>{b.currentLevel!==e&&h("level"),e!==b.currentLevel&&h("level")},domainProgress:b.maxLevelCompleted,kidId:o.kid_id})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-r from-blue-100 to-indigo-100 rounded-xl p-8 text-center",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-neutral-800 mb-3",children:"How to Unlock New Levels"}),(0,t.jsx)("p",{className:"text-neutral-700 max-w-2xl mx-auto",children:"Complete each level and earn at least 3 stars â­â­â­ to unlock the next challenge! More stars = More points!"})]})]}),"level"===m&&b.currentLevel&&!b.isLoading&&(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("button",{onClick:w,className:"inline-flex items-center gap-2 px-4 py-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors font-medium",children:[(0,t.jsx)(es.ArrowLeft,{className:"h-4 w-4"}),"Back to Domains"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-neutral-800 mb-6",children:"Choose Your Level"}),(0,t.jsx)(Z,{currentDomain:b.currentLevel,maxLevelCompleted:b.maxLevelCompleted[b.currentLevel],starsPerLevel:b.starsPerLevel,onSelectLevel:e=>{b.currentLevel&&(b.startGame(b.currentLevel,e,{locale:p}),h("playing"))},isLoading:b.isLoading})]}),(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-8",children:(0,t.jsx)(U,{currentLevel:b.maxLevelCompleted[b.currentLevel],maxLevel:50,starsPerLevel:b.starsPerLevel})})]}),"playing"===m&&b.currentLevel&&b.questions.length>0&&b.currentQuestionIndex<b.questions.length&&(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,t.jsx)("button",{onClick:w,className:"inline-flex items-center gap-2 px-4 py-2 text-neutral-600 hover:bg-neutral-100 rounded-lg transition-colors",children:(0,t.jsx)(es.ArrowLeft,{className:"h-4 w-4"})}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsxs)("h2",{className:"text-2xl font-bold text-neutral-800",children:["language"===b.currentLevel?"ðŸ“š Language":"mathematics"===b.currentLevel?"ðŸ”¢ Mathematics":"ðŸ§© Logic"," ","Level ",b.currentLevelNumber]})}),(0,t.jsxs)("div",{className:"text-right text-sm text-neutral-600",children:["Score: ",b.session?.score||0]})]}),(0,t.jsx)(T,{question:b.questions[b.currentQuestionIndex],index:b.currentQuestionIndex,totalQuestions:b.questions.length,onAnswer:v,timeLimit:b.questions[b.currentQuestionIndex].time_limit_seconds,onTimeUp:()=>{v("")},isAnswered:(b.session?.answers.length??0)>b.currentQuestionIndex}),(b.session?.answers.length??0)>b.currentQuestionIndex&&(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)("button",{onClick:()=>{b.currentQuestionIndex===b.questions.length-1?(b.completeGame(),h("result")):b.nextQuestion()},className:"px-8 py-3 bg-gradient-to-r from-green-600 to-emerald-600 text-white font-bold rounded-lg hover:shadow-lg transition-all",children:b.currentQuestionIndex===b.questions.length-1?"Finish Level":"Next Question"})})]}),"result"===m&&b.result&&(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsx)(B,{result:b.result,onNextLevel:()=>{let e=b.currentLevelNumber+1;b.currentLevel&&(b.startGame(b.currentLevel,e),h("playing"))},onRetry:()=>{b.currentLevel&&(b.startGame(b.currentLevel,b.currentLevelNumber),h("playing"))},kidName:o.name}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsxs)("button",{onClick:w,className:"inline-flex items-center gap-2 px-6 py-3 bg-neutral-600 hover:bg-neutral-700 text-white font-bold rounded-lg transition-colors",children:[(0,t.jsx)(es.ArrowLeft,{className:"h-5 w-5"}),"Back to Domains"]})})]})]})})]})}function en(){return(0,t.jsxs)("div",{className:"min-h-96 flex flex-col items-center justify-center gap-4",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-200 border-t-blue-600"}),(0,t.jsx)("p",{className:"text-lg text-neutral-600",children:"Loading your game..."})]})}e.s(["default",()=>ei],30338)},84705,(e,t,s)=>{let a="/game";(window.__NEXT_P=window.__NEXT_P||[]).push([a,()=>e.r(30338)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([a])})}]);